"use strict";class UserFormControl{constructor(t){this.kwargs=t,this.form=this._getElem(t.form),this.inputs=this._getElems(t.inputs,this.form),this.labels=this._getElems(t.labels,this.form),this.buttons=this._getElems(t.buttons,this.form),this.edit=this._getElem(t.edit,this.form),this.editEvent()}debug(t=this){return this}_getElem(t,e=document){return e.querySelector(t)}_getElems(t,e=document){return[...e.querySelectorAll(t)]}editEvent(){this.edit.onclick=()=>{"hide"==this.edit.dataset.edit?(this.inputs.map((t=>{t.removeAttribute("disabled")})),this.labels.map((t=>{t.classList.add("active")})),this.buttons.map((t=>{t.removeAttribute("disabled"),t.classList.add("active")})),this.edit.dataset.edit="show"):"show"==this.edit.dataset.edit&&(this.inputs.map((t=>{t.setAttribute("disabled","")})),this.labels.map((t=>{t.classList.remove("active")})),this.buttons.map((t=>{t.setAttribute("disabled",""),t.classList.remove("active")})),this.edit.dataset.edit="hide")}}update(){this.form=this._getElem(this.kwargs.form),this.inputs=this._getElems(this.kwargs.inputs,this.form),this.labels=this._getElems(this.kwargs.labels,this.form),this.buttons=this._getElems(this.kwargs.buttons,this.form),this.edit=this._getElem(this.kwargs.edit,this.form),this.editEvent()}}class AddShipping{constructor(t){this.form=this._getElem(t.form),this.button=this._getElem(t.button),this.shipping=this._getElems(t.shipping,this.form),this.counter=this.shipping.length,this.formControl=t.formControl,this._create(t)}_create(t){this.createNewForm(t)}debug(t=this){return this}_getElem(t,e=document){return e.querySelector(t)}_getElems(t,e=document){return[...e.querySelectorAll(t)]}slacer(t){let e=this._getElems("input",t);e=e.filter((t=>{if("hidden"!==t.getAttribute("type"))return t})),e.map((t=>{let e=t.getAttribute("id"),i=t.getAttribute("name"),s=e.replace(0,this.counter),r=i.replace(0,this.counter);t.setAttribute("id",s),t.setAttribute("name",r),t.value=""}))}createNewForm(t){this.button.onclick=()=>{const e=this.shipping[0].cloneNode(!0);this.counter+=1,this.form.insertAdjacentElement("beforeend",e),this.totalForms=this._getElems(t.total,this.form),this.totalForms.map((t=>{t.value=this.counter})),e.dataset.shipping=this.counter;this._getElem(t.title,e).textContent=this.counter;new ElementsControl({manager:".client-info-manager",managed:".client-info-managed"}).toggler({}),this.slacer(e),this.formControl.update()}}}document.addEventListener("DOMContentLoaded",(()=>{new ElementsControl({manager:".client-info-manager",managed:".client-info-managed"}).toggler({});const t=new UserFormControl({form:"#client-info-form",edit:"[data-edit]",labels:".client-info__input-group--name",inputs:".form-control-client-info",buttons:"[data-hide-btn]"});new AddShipping({form:"#client-info-form",button:"#add-shipping-address",shipping:"[data-shipping]",total:"#id_form-TOTAL_FORMS",title:"[data-shipping-title]",formControl:t})}));